Insert Meeting

- mark all overlapping meetings as inconsistent
- mark new meeting as inconsistent if overlapping with any other one
- if at this point new meeting is inconsistent (return)

- compute the best travel from the default location before new meeting to the location of new meeting (call it fromdef travel)
- compute the best travel from the location of new meeting to the default location after new meeting (call it todef travel)

- take the last consistent meeting with end date before the start date of new meeting (call it before meeting)
- take the first consistent meeting with start date after the end date of new meeting (call it after meeting)

- [A] if fromdef travel is compatible with before meeting or if there is no before meeting, goto [B]
- compute the best travel from the arriving location of the leaving travel of before meeting to the location of new meeting
- if the previous travel is not possible, compute the best travel directly from before meeting to new meeting
- [B] if todef travel is compatible with after meeting or if there is no after meeting, goto [C]
- compute the best travel from the leaving location of the arriving travel of after meeting to the location of new meeting
- if the previous travel is not possible, compute the best travel directly from new meeting to after meeting

- [C] if new meeting has not both an arriving and a leaving travel, mark it as inconsistent and delete its travels (return)
- check that every break overlapping with the time period between the start of the travel to new meeting and the end of the travel leaving new meeting remain doable, otherwise mark new meeting as inconsistent and delete its travels (return)
- update actual time of breaks if needed
- save new meeting and its travels (return)


Compute Best Travel

- for each travel means in the preference list, ask the external provider for a path
- compute the weighted preference list
- filter the weighted preference list using the constraints
- return the path corresponding to the first item of the weighted preference list

Mark Meeting as Inconsistent

- flip a bit on the meeting
- create a warning