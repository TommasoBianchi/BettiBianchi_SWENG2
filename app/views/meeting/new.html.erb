<%= render 'shared/header' %>
<div id="content">
  <script type="text/javascript"></script>
  <%= render 'shared/calendar_sidebar' %>
  <section class="mainContent">

    <div id="create-meeting-title">
      <a class="title">Create Meeting</a>
    </div>
    <div id="emailPasswordContainer">

      <%= form_with scope: :meeting, local: true do |form| %>


      <%= form.label :title, class: 'label' %>
      <%= form.text_field :title, id: 'title', type: 'text' %>
      <%= form.label :abstract, class: 'label' %>
      <%= form.text_area :abstract, id: 'abstract', type: 'text' %>
      <div class='date-time-container'>
        <div class='date-container'>
          <%= form.label :date, class: 'label' %>
          <%= form.text_field :date, id: 'meeting_date', type: 'text' %>
        </div>
        <div class='time-container' >
          <%= form.label :start_time, class: 'label' %>
          <%= form.text_field :start_time, class:'time', id: 'meeting_start_time', type: 'text' %>
        </div>
        <div class='time-container' >
          <%= form.label :end_time, class: 'label' %>
          <%= form.text_field :end_time, class:'time', id: 'meeting_end_time', type: 'text' %>
        </div>
      </div>

      <%= render 'shared/get_location', form: form%>
      <%= render 'shared/get_user', form: form%>

      <div id="buttonsContainer">
        <%= form.submit 'Create Meeting', class: 'monoConfirmationButton'%>
      </div>

    <% end %>
  </div>

</section >
<%= render 'shared/footer' %>


<script>

(function() {
   // your page initialization code here
   // the DOM will be available here
   var to_set = $('#meeting_start_time').width();
   var list = document.getElementsByClassName('ui-timepicker-wrapper');
   list[0].style.width = '500px';
})();

</script>

<script type="text/javascript">

  <% if !@meeting.valid? %>
    $(window).on('load', function(){
    <% @meeting.errors.each do |error, message| %>
      displayError("<%= error.to_s %>", "<%= message %>")
    <% end %>
    })
  <% end %>
</script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-timepicker/1.8.1/jquery.timepicker.min.css"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-timepicker/1.8.1/jquery.timepicker.min.js"></script>

<script>
  $(function () {
    $('.time').timepicker();

    $(".ui-timepicker-wrapper").css({"backgroundColor": "black", "color": "white"});
  });

  $(function () {
    $("#meeting_date").datepicker();
  });

  $(document).ready(function(){
   // we define and invoke a function
   (function(){
       $(".ui-timepicker-wrapper").css({"backgroundColor": "black", "color": "white"});
   })();
});
</script>
